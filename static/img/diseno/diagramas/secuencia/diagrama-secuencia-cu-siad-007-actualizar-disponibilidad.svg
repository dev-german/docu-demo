<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" data-diagram-type="SEQUENCE" height="452px" preserveAspectRatio="none" style="width:2329px;height:452px;background:#FFFFFF;" version="1.1" viewBox="0 0 2329 452" width="2329px" zoomAndPan="magnify"><title>Diagrama de Secuencia: Actualizar Estado de Disponibilidad Personal</title><defs/><g><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="549.7803" x="891.5359" y="27.9951">Diagrama de Secuencia: Actualizar Estado de Disponibilidad Personal</text><g><title>App Especialistas</title><rect fill="#FFFFFF" height="203.9297" style="stroke:#696969;stroke-width:1;" width="10" x="527.2964" y="149.7266"/></g><g><title>API Gateway</title><rect fill="#FFFFFF" height="145.6641" style="stroke:#696969;stroke-width:1;" width="10" x="1042.4517" y="178.8594"/></g><g><title>MS-Especialistas</title><rect fill="#FFFFFF" height="87.3984" style="stroke:#696969;stroke-width:1;" width="10" x="1503.9692" y="207.9922"/></g><g><title>Base de Datos SIAD</title><rect fill="#FFFFFF" height="29.1328" style="stroke:#696969;stroke-width:1;" width="10" x="2251.3408" y="237.125"/></g><g><title>Especialista Aduanero</title><rect fill="#000000" fill-opacity="0.00000" height="253.0625" width="8" x="81.5605" y="118.5938"/><line style="stroke:#696969;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="85" x2="85" y1="118.5938" y2="371.6563"/></g><g><title>App Especialistas</title><rect fill="#000000" fill-opacity="0.00000" height="253.0625" width="8" x="528.2964" y="118.5938"/><line style="stroke:#696969;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="532.2754" x2="532.2754" y1="118.5938" y2="371.6563"/></g><g><title>API Gateway</title><rect fill="#000000" fill-opacity="0.00000" height="253.0625" width="8" x="1043.4517" y="118.5938"/><line style="stroke:#696969;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1047.23" x2="1047.23" y1="118.5938" y2="371.6563"/></g><g><title>MS-Especialistas</title><rect fill="#000000" fill-opacity="0.00000" height="253.0625" width="8" x="1504.9692" y="118.5938"/><line style="stroke:#696969;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1508.8398" x2="1508.8398" y1="118.5938" y2="371.6563"/></g><g><title>Base de Datos SIAD</title><rect fill="#000000" fill-opacity="0.00000" height="253.0625" width="8" x="2252.3408" y="118.5938"/><line style="stroke:#696969;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="2255.8296" x2="2255.8296" y1="118.5938" y2="371.6563"/></g><g class="participant participant-head" data-participant="Especialista"><text fill="#454645" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="155.1211" x="5" y="115.292">Especialista Aduanero</text><ellipse cx="85.5605" cy="50.7969" fill="#454645" rx="8" ry="8" style="stroke:#454645;stroke-width:0.5;"/><path d="M85.5605,58.7969 L85.5605,85.7969 M72.5605,66.7969 L98.5605,66.7969 M85.5605,85.7969 L72.5605,100.7969 M85.5605,85.7969 L98.5605,100.7969" fill="none" style="stroke:#454645;stroke-width:0.5;"/></g><g class="participant participant-tail" data-participant="Especialista"><text fill="#454645" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="155.1211" x="5" y="383.6514">Especialista Aduanero</text><ellipse cx="85.5605" cy="395.4531" fill="#454645" rx="8" ry="8" style="stroke:#454645;stroke-width:0.5;"/><path d="M85.5605,403.4531 L85.5605,430.4531 M72.5605,411.4531 L98.5605,411.4531 M85.5605,430.4531 L72.5605,445.4531 M85.5605,430.4531 L98.5605,445.4531" fill="none" style="stroke:#454645;stroke-width:0.5;"/></g><g class="participant participant-head" data-participant="AppEsp"><rect fill="#FF6347" height="46.5938" rx="3.5" ry="3.5" style="stroke:#454645;stroke-width:1.5;" width="136.042" x="464.2754" y="71"/><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="122.042" x="471.2754" y="90.9951">App Especialistas</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="65.3584" x="499.6172" y="107.292">(Angular)</text></g><g class="participant participant-tail" data-participant="AppEsp"><rect fill="#FF6347" height="46.5938" rx="3.5" ry="3.5" style="stroke:#454645;stroke-width:1.5;" width="136.042" x="464.2754" y="370.6563"/><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="122.042" x="471.2754" y="390.6514">App Especialistas</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="65.3584" x="499.6172" y="406.9482">(Angular)</text></g><g class="participant participant-head" data-participant="APIGW"><rect fill="#FF6347" height="30.2969" rx="3.5" ry="3.5" style="stroke:#454645;stroke-width:1.5;" width="102.4434" x="996.23" y="87.2969"/><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="88.4434" x="1003.23" y="107.292">API Gateway</text></g><g class="participant participant-tail" data-participant="APIGW"><rect fill="#FF6347" height="30.2969" rx="3.5" ry="3.5" style="stroke:#454645;stroke-width:1.5;" width="102.4434" x="996.23" y="370.6563"/><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="88.4434" x="1003.23" y="390.6514">API Gateway</text></g><g class="participant participant-head" data-participant="MSEsp"><rect fill="#FF6347" height="46.5938" rx="3.5" ry="3.5" style="stroke:#454645;stroke-width:1.5;" width="130.2588" x="1443.8398" y="71"/><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="116.2588" x="1450.8398" y="90.9951">MS-Especialistas</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="92.7773" x="1462.5806" y="107.292">(Spring Boot)</text></g><g class="participant participant-tail" data-participant="MSEsp"><rect fill="#FF6347" height="46.5938" rx="3.5" ry="3.5" style="stroke:#454645;stroke-width:1.5;" width="130.2588" x="1443.8398" y="370.6563"/><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="116.2588" x="1450.8398" y="390.6514">MS-Especialistas</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="92.7773" x="1462.5806" y="406.9482">(Spring Boot)</text></g><g class="participant participant-head" data-participant="DB"><text fill="#454645" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="139.0225" x="2183.8296" y="115.292">Base de Datos SIAD</text><path d="M2238.3408,66.2969 C2238.3408,56.2969 2256.3408,56.2969 2256.3408,56.2969 C2256.3408,56.2969 2274.3408,56.2969 2274.3408,66.2969 L2274.3408,92.2969 C2274.3408,102.2969 2256.3408,102.2969 2256.3408,102.2969 C2256.3408,102.2969 2238.3408,102.2969 2238.3408,92.2969 L2238.3408,66.2969" fill="#00FFFF" style="stroke:#454645;stroke-width:1.5;"/><path d="M2238.3408,66.2969 C2238.3408,76.2969 2256.3408,76.2969 2256.3408,76.2969 C2256.3408,76.2969 2274.3408,76.2969 2274.3408,66.2969" fill="none" style="stroke:#454645;stroke-width:1.5;"/></g><g class="participant participant-tail" data-participant="DB"><text fill="#454645" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="139.0225" x="2183.8296" y="383.6514">Base de Datos SIAD</text><path d="M2238.3408,396.9531 C2238.3408,386.9531 2256.3408,386.9531 2256.3408,386.9531 C2256.3408,386.9531 2274.3408,386.9531 2274.3408,396.9531 L2274.3408,422.9531 C2274.3408,432.9531 2256.3408,432.9531 2256.3408,432.9531 C2256.3408,432.9531 2238.3408,432.9531 2238.3408,422.9531 L2238.3408,396.9531" fill="#00FFFF" style="stroke:#454645;stroke-width:1.5;"/><path d="M2238.3408,396.9531 C2238.3408,406.9531 2256.3408,406.9531 2256.3408,406.9531 C2256.3408,406.9531 2274.3408,406.9531 2274.3408,396.9531" fill="none" style="stroke:#454645;stroke-width:1.5;"/></g><g><title>App Especialistas</title><rect fill="#FFFFFF" height="203.9297" style="stroke:#696969;stroke-width:1;" width="10" x="527.2964" y="149.7266"/></g><g><title>API Gateway</title><rect fill="#FFFFFF" height="145.6641" style="stroke:#696969;stroke-width:1;" width="10" x="1042.4517" y="178.8594"/></g><g><title>MS-Especialistas</title><rect fill="#FFFFFF" height="87.3984" style="stroke:#696969;stroke-width:1;" width="10" x="1503.9692" y="207.9922"/></g><g><title>Base de Datos SIAD</title><rect fill="#FFFFFF" height="29.1328" style="stroke:#696969;stroke-width:1;" width="10" x="2251.3408" y="237.125"/></g><g class="message" data-participant-1="Especialista" data-participant-2="AppEsp"><polygon fill="#454645" points="515.2964,145.7266,525.2964,149.7266,515.2964,153.7266,519.2964,149.7266" style="stroke:#454645;stroke-width:1;"/><line style="stroke:#454645;stroke-width:1;" x1="85.5605" x2="521.2964" y1="149.7266" y2="149.7266"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="20.9282" x="92.5605" y="144.6606">[1]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="397.8076" x="117.4888" y="144.6606">1. Selecciona nuevo estado de disponibilidad (ej. "Ocupado")</text></g><g class="message" data-participant-1="AppEsp" data-participant-2="APIGW"><polygon fill="#454645" points="1030.4517,174.8594,1040.4517,178.8594,1030.4517,182.8594,1034.4517,178.8594" style="stroke:#454645;stroke-width:1;"/><line style="stroke:#454645;stroke-width:1;" x1="537.2964" x2="1036.4517" y1="178.8594" y2="178.8594"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="20.9282" x="544.2964" y="173.7935">[2]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="461.2271" x="569.2246" y="173.7935">2. PUT /api/especialistas/{idEspecialista}/disponibilidad (nuevoEstado)</text></g><g class="message" data-participant-1="APIGW" data-participant-2="MSEsp"><polygon fill="#454645" points="1491.9692,203.9922,1501.9692,207.9922,1491.9692,211.9922,1495.9692,207.9922" style="stroke:#454645;stroke-width:1;"/><line style="stroke:#454645;stroke-width:1;" x1="1052.4517" x2="1497.9692" y1="207.9922" y2="207.9922"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="20.9282" x="1059.4517" y="202.9263">[3]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="407.5894" x="1084.3799" y="202.9263">3. /especialistas/{idEspecialista}/disponibilidad (nuevoEstado)</text></g><g class="message" data-participant-1="MSEsp" data-participant-2="DB"><polygon fill="#454645" points="2239.3408,233.125,2249.3408,237.125,2239.3408,241.125,2243.3408,237.125" style="stroke:#454645;stroke-width:1;"/><line style="stroke:#454645;stroke-width:1;" x1="1513.9692" x2="2245.3408" y1="237.125" y2="237.125"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="20.9282" x="1520.9692" y="232.0591">[4]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="693.4434" x="1545.8975" y="232.0591">4. UPDATE Especialistas SET estado_disponibilidad = nuevoEstado WHERE especialista_id = idEspecialista</text></g><g class="message" data-participant-1="DB" data-participant-2="MSEsp"><polygon fill="#454645" points="1524.9692,262.2578,1514.9692,266.2578,1524.9692,270.2578,1520.9692,266.2578" style="stroke:#454645;stroke-width:1;"/><line style="stroke:#454645;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="1518.9692" x2="2255.3408" y1="266.2578" y2="266.2578"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="20.9282" x="1530.9692" y="261.1919">[5]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="221.0889" x="1555.8975" y="261.1919">4.1 Confirmaci&#243;n de actualizaci&#243;n</text></g><g class="message" data-participant-1="MSEsp" data-participant-2="APIGW"><polygon fill="#454645" points="1063.4517,291.3906,1053.4517,295.3906,1063.4517,299.3906,1059.4517,295.3906" style="stroke:#454645;stroke-width:1;"/><line style="stroke:#454645;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="1057.4517" x2="1507.9692" y1="295.3906" y2="295.3906"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="20.9282" x="1069.4517" y="290.3247">[6]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="290.8623" x="1094.3799" y="290.3247">5. Respuesta OK (disponibilidad actualizada)</text></g><g class="message" data-participant-1="APIGW" data-participant-2="AppEsp"><polygon fill="#454645" points="548.2964,320.5234,538.2964,324.5234,548.2964,328.5234,544.2964,324.5234" style="stroke:#454645;stroke-width:1;"/><line style="stroke:#454645;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="542.2964" x2="1046.4517" y1="324.5234" y2="324.5234"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="20.9282" x="554.2964" y="319.4575">[7]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="109.3638" x="579.2246" y="319.4575">6. Respuesta API</text></g><g class="message" data-participant-1="AppEsp" data-participant-2="Especialista"><polygon fill="#454645" points="96.5605,349.6563,86.5605,353.6563,96.5605,357.6563,92.5605,353.6563" style="stroke:#454645;stroke-width:1;"/><line style="stroke:#454645;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="90.5605" x2="531.2964" y1="353.6563" y2="353.6563"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="20.9282" x="102.5605" y="348.5903">[8]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="298.4224" x="127.4888" y="348.5903">7. Muestra confirmaci&#243;n de cambio de estado</text></g><!--SRC=[hLB1ZjCm4BtdAuQSsaDJ5XQG8bWf8T5IeMgZJLTx0BIQEAOCIkt8SOeMn5Vn2VmOjfDkdPovn59ctflttimp_OqVE1ofKYXqe4at73B2lS83GisXvApdWX76a33TOqC_KK7UQQobhMVKjL9GHGtLM4F1LIS5Da60J4i5OTwrtA0RCWX8wXu5Lp84xC2l12qgJOnQ8mB2f6qdrUwpM2HYtpUebWvg6anz1YesS8sQ_y37eQVONDzFMxRbQavRjeh47b8fzK2zBIrpZHehx3Y4gVrQdwXb1-KcoLnRbXg7lPQYFrJSs7nRNNrw_YKCWedVrTKeDOQBo4JPSCR8n0EYvqS9_2d5UfhYWd-F8BnXVMlguT9cIKVZxMGy65x7Rst6y2A2ucu7QsnfpNsFwrzK-vf-h-Upd9PXeVua5r_W7Zl7vHB3omZ-3_-GS-0Uov-bCLn6S5TaoIwVRX_AV3TczJ0ZVmSUEzn_o6zpyEKzaEsPAZnhC4lCKbYTtLr65_1UYg-a3iZexnzXTuEditT_Wfhx-9E1yoPUHN1h9FHMCDnyXCLCyXDTZKkVR0na3DoxdDS-eIdxeDEMndCmADzf36yYs5gWGc1pNmmF5Rdh6xATy3h2Vm00]--></g></svg>